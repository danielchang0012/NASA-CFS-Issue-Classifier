text
"fix # <number> , cmd and tlm messages use payload sub - structure * x] i reviewed the [ contributing guide <url> . * x] i signed and emailed the appropriate [ contributor license agreement <url> to <email> and copied <email> . <section> fix # <number> , adds payload substructure to all command and telemetry messages <section> unit testing <section> no impact to behavior <section> - os : ubuntu <number> <section> haven carlson - <allcaps> nasa </allcaps>"
"fix # <number> , moved command validation out of command functions * x] i reviewed the [ contributing guide <url> . * x] i signed and emailed the appropriate [ contributor license agreement <url> to <email> and copied <email> . <section> fixes # <number> , validate command before calling the command function instead of after . <section> unit testing <section> no impact to behavior <section> - os : ubuntu <number> <section> haven carlson - <allcaps> nasa </allcaps>"
"fix # <number> , use <code> instead of <code> in tables / tlm / cmd structs <section> - fixes # <number> - convert <code> types in tables / cmd / tlm structs to fixed - size <code> - removed the <code> in <code> ( i assume it was there to align to the <number> - bit <code> which is is longer necessary ( unless / until <code> and <code> are redefined as <number> - bits in <url> another option is to just leave it in now for future compatibility with <number> - bit alignment . <section> github ci actions all passing successfully ( incl . build + run , unit / coverage tests etc . ) . <section> exposed structs will no longer change size based on the definition of <code> . <section> avi weiss <user>"
"fix # <number> , remove side - effects and superfluous initializations <section> - fixes # <number> - updates a couple of generic types to their typedefs - removes superfluous initializations ( converts them to simple declaration / definition ) - adds <code> / <code> variable to remove side - effects inside conditionals where it makes sense <section> github ci actions all passing successfully ( incl . build + run , unit / functional tests etc . ) . <section> no change to behavior . code will be more readable , clearer and easier to maintain . <section> avi weiss <user>"
"superfluous assignments , side - effects . type updates etc . <section> some issues that can be easily cleaned up to improve readability and ease maintenance by simplifying the code . - superfluous initializations ( when the variable is immediately or always assigned a value before being used ) - side - effects in conditionals that can be easily removed <section> end up more readable - a couple of types can be updated ( <code> , <code> ) <section> can be <code> : <url> can be <code> : <url> several functions with multiple cs calls that could be made clearer and more compliant with an additional status / result variable . e . g . : <url> <section> clear up where it makes sense . <section> avi weiss <user>"
"fix # <number> , convert integers holding boolean truth values to <code> <section> - fixes # <number> - <number> integer variables which only ever hold boolean truth values have been converted to <code> <section> github ci actions all passing successfully . <section> no change to behavior . - intent of these variables is more clear - improved type - safety - eases future maintainability <section> avi weiss <user>"
integers representing boolean truth values should be converted to <code> <section> there are a few variables in cs represented by integers when they only ever hold boolean <code> / <code> values . <section> <url> <url> <section> integers representing boolean truth values should be converted <code> - this makes the intent clearer and improves maintainability . <section> avi weiss <user>
command code / enum naming convention inconsistencies <section> - similar to lc issue : <url> - cs also has a few command code macros that are not consistent with the enumeration identifiers or the command function name ( all are cases of <number> words being combined into <number> ) . <section> <code> <code> <code> ( should be <code> ) <code> <code> ( should be <code> ) . <repeated> and a couple more . <section> identifiers should conform to the cfs / cfe naming convention with regard to consistent use of underscores to make mnemonics clear and readable . <section> avi weiss <user>
"apps should check / verify msg <allcaps> before </allcaps> calling handler <section> this remains an area with coding pattern discrepancies between <allcaps> cfe </allcaps> core and <allcaps> cfs </allcaps> apps , and also different between <allcaps> cfs </allcaps> apps to some degree as well . the <allcaps> cfe </allcaps> core and sample app ( which is supposed to be the example of "" best practice "" ) do validation on the message before calling the handler . for example : <code> this is different from cs , which does a similar check , but done inside each handler , for example : <url> <section> <allcaps> cfs </allcaps> apps should follow the best practices / patterns set forth in the framework code . ( there are reasons for the pattern being recommended practice ) <section> the pattern recommended in the framework ( checking before calling , as done in sample_app ) has several advantages : <number> . each command handler function has a unique type - safe prototype , that cannot be interchanged with another handler without triggering a type mismatch compiler error . <number> . all typecasting / conversions are confined to one place , and it is nearby to the place that the verification is done - which eases maintainability because check and conversion are all in close proximity and any mismatches will be more visible . <number> . it spreads out the cyclomatic complexity . in the non - recommended pattern , there is a case where the length check fails , and the entire handler is essentially skipped . this adds to the cyclomatic complexity of every handler . in the recommended pattern , those checks are done prior to the invocation of the handler , so the handler can focus solely on its intended purpose - doing the command itself . <section> joseph hickey , vantage systems , inc ."
"fix # <number> , table processing fixes <section> first check that table name is null - terminated before comparing any strings , then the normal strcmp ( ) can be safely used . this reverses the direction of the inner check loop , so it is reading entries that have been already validated otherwise , rather than reading entries that have not yet been checked at all . fixes # <number> fixes # <number> <section> build and run cs and all tests <section> un - terminated / long table names will be detected as part of validation . importantly , the code no longer invokes <code> on a string that has not been checked for null termination . <section> debian <section> joseph hickey , vantage systems , inc ."
"fix # <number> , table processing fixes <section> first check that table name is null - terminated before comparing any strings , then the normal strcmp ( ) can be safely used . this reverses the direction of the inner check loop , so it is reading entries that have been already validated otherwise , rather than reading entries that have not yet been checked at all . <section> build and run cs , run all tests . confirm table validation working as expected . <section> un - terminated / long table names will be detected as part of validation . importantly , the code no longer invokes <code> on a string that has not been checked for null termination . <section> debian <section> joseph hickey , vantage systems , inc ."
"fix # <number> , simplify cs_attempttablereshare <section> - fixes # <number> - three <code> variables used for control flow have been combined into one . <section> github ci actions ( incl . build + run , unit tests etc . ) all passing successfully . <section> no change to behavior . function in simplified and more clear , easing future maintenance . <section> avi weiss <user>"
cs_attempttablereshare can be simplified <section> the <code> function uses <number> ' <code> ' variables for control flow . it seems like they can all be combined into a single variable . <section> <url> <section> simplify function to improve clarity and ease future maintenance . <section> avi weiss <user>
"fix # <number> , combine consecutive , mutually - exclusive status checks <section> - fixes # <number> - <number> separate pairs of consecutive , mutually - exclusive status checks combined into <code> / <code> constructs . - code changes are in cs_app . c and cs_init . c - some typos corrected as a piggy - back on this pr . - also capitalised <allcaps> eeprom </allcaps> in all text ( was inconsistently capitalised previously ) . <section> github ci actions ( incl . build + run , unit tests etc . ) all passing successfully . <section> no change to logic . single evaluation instead of twice in these if blocks now . <section> avi weiss <user>"
"combine consecutive , mutually - exclusive status checks <section> a few cases of consecutive , mutually exclusive status checks in cs . <section> <url> <url> <section> combine into <code> / <code> constructs - clearer and reduces evaluations . <section> avi weiss <user>"
"fix # <number> , update function key in cs_recomputeappchildtask_test_defentryid <section> fixes # <number> <code> handler function key updated from <code> to <code> . tests back to <percent> passing and full coverage : <code> <section> github ci actions ( incl . build + run , unit tests etc . ) all passing successfully . <section> tests should pass at <percent> <section> avi weiss <user>"
"fix # <number> , replace quotes with angle brackets in / inc <section> fixes # <number> - replace quotes with angle brackets in / inc files . <section> <number> . performed build verification testing <number> . ci <section> dan knutsen <allcaps> nasa </allcaps> goddard"
replace quotes with angle brackets in <hashtag> include </hashtag> statements within / inc describe the solution you ' d like quotes should be replaced with angle brackets in <hashtag> include </hashtag> statements that reside in the / inc location . this will ensure that the preprocessor selects the files pre - designated to override the default files contained within the open source cfs build release - as opposed to selecting those located in the same directory . requester info dan knutsen <allcaps> nasa </allcaps> goddard
"fix # <number> , adds fsw / src to app target <section> - fixes # <number> <section> make install <section> successful cert_testbed build <section> - ubuntu <number> <section> n / a <section> n / a <section> justin figueroa , vantage systems"
"add fsw / src to app target <section> cannot build cert_testbed . <code> is needed to build tables , etc . revise cmakelists . txt <section> build in cert_testbed <section> error - free build <section> if applicable , add references to the software . <section> - ubuntu <number> <section> n / a <section> justin figueroa , vantage systems"
"fix # <number> , moves interface definition files to inc <section> - fixes # <number> <section> make install lcov <section> no expected behavior change . <section> - ubuntu <number> <section> n / a <section> if included , identify any third party code and provide text file of license <section> - justin figueroa , vantage"
"move interface definition files to "" inc "" location <section> the interface definition files of all open source apps currently exist in the "" src "" directory . <section> create an "" inc "" dir to go with the "" src "" dir . move the interface definitions into this location : "" _msg . h "" , "" _msgdefs . h "" , "" _tbldefs . h "" , and "" _events . h "" . consider moving header files in both "" platform_inc "" and "" mission_inc "" to "" inc "" <section> leaving as is . <section> n / a <section> justin figueroa , vantage systems"
"fix # <number> , remove redundant / inconsistent comments (/* end of function */ , /* end if */ etc . ) and clean up empty lines . <section> fixes # <number> removes redundant and inconsistent comments ( e . g . <code> , <code> , function name in function header comments ) . there were also a few cases of unnecessary empty lines ( e . g . on the last line before the closing brace of a function ) and also missing empty lines ( e . g . between functions ) which were corrected . some of these empty lines trigger the ci format checks . i have left the commits separated for now to make life easier for whoever reviews this . i can squash them if / when this is ready for merge . <section> none ( comment and whitespace changes only ) . <section> no impact on behavior . these updates will reduce clutter and inconsistency in the code , improving readability . <section> <user>"
"redundant comments (/* end of function */ , /* end if */ etc . ) and clean up empty lines . <section> copy of <url> and <url> there are quite a few redundant comments in the code , such as : - <code> - type comments - <code> - type comments - function header comments which include the function name another minor issue has to do with empty lines : a ) _unnecessary_ empty lines ( e . g . first line after the opening brace of a function / struct , or the last line before the closing brace - the latter apparently sometimes triggers the ci format checks ) . b ) _missing_ empty lines between functions ( i . e . closing brace of last function , then next function beginning on the immediately next line without an empty line in between ) the unnecessary empty lines ( at the beginning or end of a function , for example ) represent a low single - digit percentage of the cases ( the vast majority of functions / structs do not have these extra empty lines ) , so there is an argument to remove them purely for consistency , not just due to them being redundant and triggering the ci format checks . <section> remove redundant comments to reduce clutter and inconsistency in the code , and improve readability . <section> <user>"
"fix # <number> , remove ' return ; ' from last line of void functions . <section> fixes # <number> removes all cases of redundant "" return ; "" statements on the last line of void functions . corrected a few typos in the comments that were noticed along the way . <section> none , prior to submission . <section> no impact on behavior . <section> <user>"
"remove "" return ; "" from last line of void functions <section> "" return ; "" at last line in void function is redundant . copy of <url> <section> remove <section> <user>"
"fix # <number> , remove unnecessary parentheses around return values . <section> fixes # <number> removes parentheses in return statements in cs that return a single value / term . this is aligns these return statements with the predominant style of cfs . <section> none , prior to submission of the pull request . <section> no impact on behavior . <section> <user>"
scrub use of ( ) in return statements <section> unnecessary parentheses around return values in cs copy of <url> <section> <user>
"fix # <number> , cs_recomputeappchildtask wrong function key"
"cs_recomputeappchildtask_test_defentryid sets up handler for wrong function key <section> a clear and concise description of what the bug is . the cs_recomputeappchildtask_test_defentryid sets the handler <code> for the function key <code> when it should use the key <code> . the function under test , <code> does not call <code> , but rather cfe_es_getmoduleinfo , which in turn calls <code> . without the handler set for this function , some properties of <code> in the test may not be set and will cause the test to fail on some systems . <section> steps to reproduce the behavior : <number> . build as usual <number> . navigate to unit - tests of cs in build tree ( for me , <code> ) <number> . run <code> <number> . see test errors : <code> <section> the test should pass . <section> if applicable , add references to the software . <url> <section> - cs release tag draco - rc3 - hardware : x86_64 intel - os : centos <number> - versions : cfe draco - rc3 , <allcaps> osal </allcaps> draco - rc3 , <allcaps> psp </allcaps> draco - rc2 <section> add any other context about the problem here . <section> full name and company / organization if applicable isaac rowe , <allcaps> nasa jsc </allcaps> ( jacobs technology )"
"fix # <number> , resolve usersguide issues with doxygen <date> <section> - fix # <number> <section> build doc with ubuntu <number> <section> successful doc build <section> - hardware : i5 / docker - os : ubuntu <number> - versions : bundle main + this commit <section> none <section> none <section> jacob hageman - <allcaps> nasa </allcaps> / <allcaps> gsfc </allcaps>"
"fix # <number> , remove empty else condition and stray <allcaps> todo </allcaps> <section> - fix # <number> <section> ci <section> none <section> ci <section> none <section> none <section> jacob hageman - <allcaps> nasa </allcaps> / <allcaps> gsfc </allcaps>"
"fix # <number> , remove stray terminators <section> - fix # <number> <section> ci <section> none <section> ci <section> none <section> none <section> jacob hageman - <allcaps> nasa </allcaps> / <allcaps> gsfc </allcaps>"
"fix # <number> , add library support to application checksum computing function . <section> fixes # <number> <section> ci <section> cs_computeapp ( ) will now scrub libraries in addition to apps when computing the checksum . unit test updates ( all in cs_compute_tests . c ) : - separate nominal tests for checking an app vs . library - modified app id name error test to use invalid app and lib id - getmoduleinfo ( ) error test case ( instead of getappinfo ( ) ) <section> ci"
"fix # <number> # <number> , improve code coverage <section> topics separate by commit but submitted together for <percent> coverage - fix # <number> - fix # <number> <section> ci <section> none , just eliminated redundant conditionals <section> ci <section> none <section> none <section> jacob hageman - <allcaps> nasa </allcaps> / <allcaps> gsfc </allcaps>"
"fix # <number> , remove cfe_psp_memset and cfe_psp_memcpy use <section> - fix # <number> <section> ci <section> none <section> ci ( unit test and build run workflows cover it ) <section> none <section> none <section> jacob hageman - <allcaps> nasa </allcaps> / <allcaps> gsfc </allcaps>"
"fix # <number> , add requirements rationale <section> - fix # <number> <section> na - requirement rationale update only <section> none <section> na <section> none <section> none <section> jacob hageman - <allcaps> nasa </allcaps> / <allcaps> gsfc </allcaps>"
"fix # <number> , added codeql - build . yml * x] i reviewed the [ contributing guide <url> . * [x ] i signed and emailed the appropriate contributor license agreement to <email> and copied <email> . describe the contribution a clear and concise description of what the contribution is . added codeql to github workflows fix # <number> testing performed pushed to branch checked codeql ran successfully expected behavior changes no impact to behavior system ( s ) tested on browser additional context depends on <url> to run successfully third party code if included , identify any third party code and provide text file of license contributor info - all information <allcaps> required </allcaps> for consideration of pull request full name and company / organization / center of all contributors ( "" personal "" if individual work ) note <allcaps> cla </allcaps> ' s apply to software contributions ."
"add codeql to repository * x] i reviewed the [ contributing guide <url> . * x] i reviewed the [ <allcaps> readme </allcaps> file <url> to see if the feature is in the major future work . * [x ] i performed a cursory search to see if the feature request is relevant , not redundant , nor in conflict with other tickets . <section> use codeql for continuous integration <section> add codeql workflow <section> none <section> add any other context about the feature request here . <section> haven carlson"
"fix # <number> # <number> , resolve static analysis warnings <section> - fix # <number> - fix # <number> <section> ci + static analysis run <section> none , just squashes static analysis warnings <section> - hardware : vm - os : ubuntu <number> - versions : bundle main + apps + related static analysis resolution branches <section> none <section> none <section> jacob hageman - <allcaps> nasa </allcaps> / <allcaps> gsfc </allcaps>"
"cs seg faults when using memory definition table ( cs . defmemorytbl ) <section> on a <number> - bit system , cs will intermittently seg fault when it attempts to checksum an address defined by the memory definition table ( cs . defmemorytbl ) . further , when you dump the results table for a given address defined by the memory definition table - the address is byte swapped . <repeated> which i do not believe to be the expected result and may help in de - bugging this issue . <section> steps to reproduce the behavior : <number> . start cfs <number> . load / validate / activate a memory definition table with a non - zero address <number> . observe seg fault when cs attempts to checksum the entry with non - zero starting address . <section> oracle vm virtualbox os : ubuntu - <number> versions : cfs versions : cfe v7 . <number> - rc4 + dev96 , osal v6 . <number> - rc4 + dev66 , psp v1 . <number> - rc1 + dev14 . <section> dan knutsen <allcaps> nasa </allcaps> goddard"
"fix # <number> , remove implicit padding <section> fix # <number> updated cs_tbledefs . h to correct for implicit padding that gets added when running on a <number> - bit system . also updated default tables provided ( cs_apptbl . c , cs_eepromtbl . c , cs_memorytbl . c , and cs_tablestbl . c ) to remove positional dependency on table elements . <section> steps taken to test the contribution : <number> . started cfs <number> . enabled tlm <number> . dumped each structure <number> . interpreted binary dump data and confirmed expected padding <section> oracle vm virtualbox os : ubuntu - <number> versions : cfs versions : cfe v7 . <number> - rc4 + dev96 , osal v6 . <number> - rc4 + dev66 , psp v1 . <number> - rc1 + dev14 . <section> dan knutsen <allcaps> nasa </allcaps> goddard"
"cs has unreachable code and branches cs has several unreachable lines of code and branch conditions . unreachable code and branch in cs_appmain lines <number> - <number> : cs_createrestorestatesfromcds always returns cfe_success . unreachable branch in cs_utils . c : cs_backgroundeeprom line <number> : currententryintable is always cs_max_num_eeprom_table_entries when cs_findenabledeepromentry returns false . unreachable branches in cs_utils . c : cs_handleroutinetableupdates lines <number> , <number> , <number> : errorcode is always cfe_success due to initialization . imported from <allcaps> gsfccfs </allcaps> - <number>"
"create unit test to confirm cs will work on system with different cpuaddr sizes follow on to "" <allcaps> gsfccfs </allcaps> - <number> , replace <number> bit addresses with cpuaddr "" and this comment specifically : <url> basic concept would be to use "" real "" addresses and confirm cs handles them correctly vs just fake numbers . imported from <allcaps> gsfccfs </allcaps> - <number>"
"revisit coverage , update to <percent> code / branch or write issues where unreachable failure : coverage cs lines <percent> functions <percent> branches <percent> failure : coverage ds lines <percent> functions <percent> branches <percent> failure : coverage fm lines <percent> functions <percent> branches <percent> failure : coverage hs lines <percent> functions <percent> branches <percent> failure : coverage lc lines <percent> functions <percent> branches <percent> failure : coverage md lines <percent> functions <percent> branches <percent> failure : coverage sc lines <percent> functions <percent> branches <percent> fix where possible , elsewise issues should document all uncovered lines / branches and disposition ( why it ' s ok as - is ) imported from <allcaps> gsfccfs </allcaps> - <number>"
fill in missing requirements rationale there ' s a handful of missing requirements rationale . add . imported from <allcaps> gsfccfs </allcaps> - <number>
"fix <number> , incorrect data type in uts fix # <number>"
"fix <number> , missing table support fixed # <number>"
"fix <number> , missing table support fixed # <number>"
cmakelists . txt missing table support the cmakelists . txt file does not build the tables . i have attached a file that works . cmakelists . txt <url>
"incorrect data type in unit tests the cs_housekeepingcmd_test_nominal ( ) function in the cs_app_test . c file sets : cs_appdata . recomputeinprogress = <number> ; cs_appdata . oneshotinprogress = <number> ; the associated member attributes in the hk message are uint8 , but the member attribute in the cs_appdata struct is type boolean . this still compiles and passed with older versions of the <allcaps> osal </allcaps> , but with <allcaps> osal </allcaps> <number> . <number> - bv this compiles but fails unit test . i recommend changing assignments from <number> and <number> to both true , and the equality check from <number> and <number> to <number> . when this change is made , cs passes unit testing ."
